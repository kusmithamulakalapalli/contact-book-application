<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Hub - Smart Contact Manager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --blue-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --shadow: 0 10px 30px rgba(0,0,0,0.2);
            --card-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--primary-gradient); min-height: 100vh; overflow-x: hidden; }
        
        /* Splash Screen */
        #splash { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--primary-gradient); 
            display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 1000;
            animation: fadeInZoom 1s ease-out, gradientShift 4s infinite alternate; 
        }
        @keyframes fadeInZoom { 0% { opacity: 0; transform: scale(0.8); } 100% { opacity: 1; transform: scale(1); } }
        @keyframes gradientShift { 0% { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); } 100% { background: linear-gradient(135deg, #764ba2 0%, #f093fb 100%); } }
        .splash-icons { display: flex; gap: 30px; margin: 20px 0; }
        .splash-icons i { font-size: 3rem; color: white; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-10px); } 60% { transform: translateY(-5px); } }
        .splash-title { font-size: clamp(2.5rem, 8vw, 5rem); background: var(--secondary-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 10px; }
        .splash-subtitle { color: rgba(255,255,255,0.9); font-size: 1.5rem; }
        
        /* Main App */
        #app { display: none; min-height: 100vh; padding: 20px; }
        .header { background: rgba(255,255,255,0.1); backdrop-filter: blur(20px); padding: 20px; border-radius: 20px; margin-bottom: 20px; text-align: center; color: white; box-shadow: var(--shadow); }
        .header h1 { background: var(--secondary-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .datetime { font-size: 1.1rem; opacity: 0.9; }
        
        /* Login */
        #login { max-width: 400px; margin: 0 auto; background: white; padding: 40px; border-radius: 20px; box-shadow: var(--shadow); }
        .form-group { margin-bottom: 20px; }
        input { width: 100%; padding: 15px; border: 2px solid #eee; border-radius: 12px; font-size: 1rem; transition: all 0.3s; }
        input:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102,126,234,0.1); }
        .btn { background: var(--primary-gradient); color: white; border: none; padding: 15px 30px; border-radius: 12px; font-size: 1.1rem; cursor: pointer; transition: transform 0.3s; width: 100%; margin-top: 10px; }
        .btn:hover { transform: translateY(-2px); box-shadow: var(--shadow); }
        .biometric { display: flex; align-items: center; gap: 10px; background: #f8f9ff; padding: 10px; border-radius: 10px; cursor: pointer; transition: 0.3s; }
        
        /* Dashboard */
        .section { background: white; border-radius: 20px; padding: 25px; margin-bottom: 20px; box-shadow: var(--card-shadow); }
        .tabs { display: flex; gap: 10px; margin-bottom: 20px; }
        .tab-btn { flex: 1; padding: 15px; background: #f8f9ff; border: none; border-radius: 12px; cursor: pointer; transition: 0.3s; }
        .tab-btn.active { background: var(--primary-gradient); color: white; }
        .search-bar { display: flex; gap: 10px; margin-bottom: 20px; }
        #searchInput, #voiceBtn { flex: 1; padding: 15px; border: 2px solid #eee; border-radius: 12px; }
        #voiceBtn { background: var(--blue-gradient); color: white; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; }
        #voiceBtn.listening { background: #ff6b6b; animation: pulse 1s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        
        /* Contact Cards */
        .contacts-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .contact-card { background: #f8f9ff; border-radius: 15px; padding: 20px; transition: transform 0.3s, box-shadow 0.3s; border-left: 5px solid var(--primary-gradient); }
        .contact-card:hover { transform: translateY(-5px); box-shadow: var(--shadow); }
        .contact-img { width: 60px; height: 60px; border-radius: 50%; background: var(--primary-gradient); color: white; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; margin-bottom: 10px; }
        .contact-name { font-size: 1.3rem; font-weight: bold; margin-bottom: 5px; }
        .contact-details { color: #666; margin-bottom: 10px; font-size: 0.9rem; }
        .contact-actions { display: flex; gap: 10px; }
        .action-btn { padding: 8px 12px; border: none; border-radius: 8px; cursor: pointer; font-size: 0.9rem; transition: 0.3s; }
        .call-btn { background: #4ecdc4; color: white; }
        .sms-btn { background: #45b7d1; color: white; }
        .edit-btn { background: #f39c12; color: white; }
        .delete-btn { background: #e74c3c; color: white; }
        .favorite { color: #f1c40f; font-size: 1.5rem; cursor: pointer; }
        
        /* Groups */
        .group-tabs { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px; }
        .group-tag { background: var(--primary-gradient); color: white; padding: 8px 15px; border-radius: 20px; cursor: pointer; transition: 0.3s; }
        .group-tag.active { transform: scale(1.05); }
        
        /* Charts */
        #analytics { height: 200px; background: #f8f9ff; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: #666; }
        
        /* Responsive */
        @media (max-width: 768px) { .contacts-grid { grid-template-columns: 1fr; } .tabs { flex-direction: column; } .search-bar { flex-direction: column; } }
        .hidden { display: none !important; }
    </style>
</head>
<body>
    <!-- Splash Screen -->
    <div id="splash">
        <div class="splash-icons">
            <i class="fas fa-phone"></i>
            <i class="fas fa-comments"></i>
            <i class="fas fa-map-marker-alt"></i>
            <i class="fas fa-users"></i>
        </div>
        <h1 class="splash-title">CONTACT HUB</h1>
        <p class="splash-subtitle">Smart. Secure. Connected.</p>
    </div>

    <!-- Main App -->
    <div id="app">
        <div class="header">
            <h1><i class="fas fa-address-book"></i> Contact Hub</h1>
            <div class="datetime" id="datetime"></div>
        </div>

        <!-- Login Section -->
        <div id="loginSection" class="section">
            <h2><i class="fas fa-lock"></i> Secure Login</h2>
            <div class="form-group">
                <input type="text" id="loginInput" placeholder="Email or Mobile">
            </div>
            <div class="form-group">
                <input type="password" id="loginPassword" placeholder="Password">
            </div>
            <div class="biometric" onclick="toggleBiometric()">
                <i class="fas fa-fingerprint"></i> Enable Biometric
            </div>
            <button class="btn" onclick="login()">
                <i class="fas fa-sign-in-alt"></i> Login
            </button>
            <p style="text-align: center; margin-top: 15px; color: #666;">Demo: admin@contacthub.com / password123</p>
        </div>

        <!-- Dashboard -->
        <div id="dashboard" class="hidden">
            <!-- Search & Voice -->
            <div class="section">
                <div class="search-bar">
                    <input type="text" id="searchInput" placeholder="Search contacts...">
                    <button id="voiceBtn" onclick="toggleVoiceSearch()">
                        <i class="fas fa-microphone"></i> Voice Search
                    </button>
                </div>

                <!-- Tabs -->
                <div class="tabs">
                    <button class="tab-btn active" onclick="showTab('all')">All Contacts</button>
                    <button class="tab-btn" onclick="showTab('favorites')">Favorites</button>
                    <button class="tab-btn" onclick="showTab('recent')">Recent</button>
                </div>

                <!-- Groups -->
                <div class="group-tabs" id="groupTabs">
                    <span class="group-tag active" data-group="all">All</span>
                    <span class="group-tag" data-group="family">Family</span>
                    <span class="group-tag" data-group="friends">Friends</span>
                    <span class="group-tag" data-group="work">Work</span>
                    <span class="group-tag" data-group="class">Class</span>
                </div>

                <!-- Contacts -->
                <div id="contactsList" class="contacts-grid"></div>
            </div>

            <!-- Add Contact Form -->
            <div class="section">
                <h3><i class="fas fa-plus"></i> Add New Contact</h3>
                <div class="form-group">
                    <input type="text" id="name" placeholder="Name">
                </div>
                <div class="form-group">
                    <input type="tel" id="phone" placeholder="Phone">
                </div>
                <div class="form-group">
                    <input type="email" id="email" placeholder="Email">
                </div>
                <div class="form-group">
                    <input type="text" id="notes" placeholder="Notes">
                </div>
                <div class="form-group">
                    <input type="text" id="group" placeholder="Group (family, friends, work, class)">
                </div>
                <button class="btn" onclick="addContact()">
                    <i class="fas fa-save"></i> Add Contact
                </button>
            </div>

            <!-- Analytics -->
            <div class="section">
                <h3><i class="fas fa-chart-bar"></i> Call Analytics</h3>
                <div id="analytics">Call duration: 0 mins | 5 calls this week [Demo Chart]</div>
            </div>

            <!-- Call History -->
            <div class="section">
                <h3><i class="fas fa-history"></i> Call History</h3>
                <div id="callHistory"></div>
            </div>
        </div>
    </div>

    <script>
        // Data Storage
        let contacts = JSON.parse(localStorage.getItem('contacts')) || [];
        let callHistory = JSON.parse(localStorage.getItem('callHistory')) || [];
        let currentUser = null;
        let editingId = null;
        let recognition = null;
        let isListening = false;

        // Initialize
        updateDateTime();
        setInterval(updateDateTime, 1000);
        setTimeout(() => {
            document.getElementById('splash').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('splash').style.display = 'none';
                document.getElementById('app').style.display = 'block';
            }, 500);
        }, 4000);

        function updateDateTime() {
            const now = new Date();
            document.getElementById('datetime').textContent = now.toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' });
        }

        // Login
        function login() {
            const input = document.getElementById('loginInput').value;
            const pass = document.getElementById('loginPassword').value;
            if ((input === 'admin@contacthub.com' || input === '+919876543210') && pass === 'password123') {
                currentUser = input;
                document.getElementById('loginSection').classList.add('hidden');
                document.getElementById('dashboard').classList.remove('hidden');
                renderContacts();
                renderCallHistory();
            } else {
                alert('Invalid credentials!');
            }
        }

        function toggleBiometric() {
            alert('Biometric demo: Fingerprint verified! (UI only)');
        }

        // Voice Search
        function toggleVoiceSearch() {
            if (!('webkitSpeechRecognition' in window)) {
                alert('Voice search not supported in this browser');
                return;
            }
            const btn = document.getElementById('voiceBtn');
            if (!recognition) {
                recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
                recognition.continuous = false;
                recognition.interimResults = false;
                recognition.lang = 'en-IN';
                recognition.onresult = (event) => {
                    document.getElementById('searchInput').value = event.results[0][0].transcript;
                    searchContacts();
                };
                recognition.onerror = () => { btn.classList.remove('listening'); };
            }
            isListening = !isListening;
            if (isListening) {
                btn.classList.add('listening');
                recognition.start();
            } else {
                btn.classList.remove('listening');
                recognition.stop();
            }
        } [web:24]

        // Contacts CRUD
        function addContact() {
            const contact = {
                id: Date.now(),
                name: document.getElementById('name').value,
                phone: document.getElementById('phone').value,
                email: document.getElementById('email').value,
                notes: document.getElementById('notes').value,
                group: document.getElementById('group').value || 'all',
                favorite: false,
                photo: 'üë§',
                deleted: false,
                deletedAt: null
            };
            contacts.unshift(contact);
            saveContacts();
            renderContacts();
            clearForm();
        }

        function editContact(id) {
            const contact = contacts.find(c => c.id === id);
            document.getElementById('name').value = contact.name;
            document.getElementById('phone').value = contact.phone;
            document.getElementById('email').value = contact.email;
            document.getElementById('notes').value = contact.notes;
            document.getElementById('group').value = contact.group;
            editingId = id;
            document.querySelector('.btn').textContent = 'Update Contact';
            document.querySelector('.btn').onclick = () => updateContact(id);
        }

        function updateContact(id) {
            const idx = contacts.findIndex(c => c.id === id);
            contacts[idx] = { ...contacts[idx], 
                name: document.getElementById('name').value,
                phone: document.getElementById('phone').value,
                email: document.getElementById('email').value,
                notes: document.getElementById('notes').value,
                group: document.getElementById('group').value 
            };
            saveContacts();
            renderContacts();
            clearForm();
        }

        function deleteContact(id) {
            if (confirm('Delete this contact?')) {
                const contact = contacts.find(c => c.id === id);
                contact.deleted = true;
                contact.deletedAt = Date.now();
                saveContacts();
                renderContacts();
            }
        }

        function restoreContact(id) {
            const contact = contacts.find(c => c.id === id);
            contact.deleted = false;
            contact.deletedAt = null;
            saveContacts();
            renderContacts();
        }

        function toggleFavorite(id) {
            const contact = contacts.find(c => c.id === id);
            contact.favorite = !contact.favorite;
            saveContacts();
            renderContacts();
        }

        function makeCall(phone) {
            window.open(`tel:${phone}`, '_blank');
            addToCallHistory(phone, 'outgoing');
        }

        function sendSMS(phone) {
            window.open(`sms:${phone}?body=Hi from Contact Hub!`, '_blank');
        }

        function addToCallHistory(phone, type) {
            const call = {
                id: Date.now(),
                phone,
                type,
                duration: Math.floor(Math.random() * 300) + 30, // 30-330s
                timestamp: new Date().toISOString()
            };
            callHistory.unshift(call);
            if (callHistory.length > 50) callHistory = callHistory.slice(0, 50);
            localStorage.setItem('callHistory', JSON.stringify(callHistory));
            renderCallHistory();
        }

        function clearForm() {
            document.getElementById('name').value = '';
            document.getElementById('phone').value = '';
            document.getElementById('email').value = '';
            document.getElementById('notes').value = '';
            document.getElementById('group').value = '';
            editingId = null;
            document.querySelector('.btn').textContent = 'Add Contact';
            document.querySelector('.btn').onclick = addContact;
        }

        // Render
        function renderContacts(filtered = contacts) {
            const container = document.getElementById('contactsList');
            container.innerHTML = filtered
                .filter(c => !c.deleted)
                .map(contact => `
                    <div class="contact-card" data-group="${contact.group}">
                        <div class="contact-img">${contact.photo}</div>
                        <div class="contact-name">${contact.name}</div>
                        <div class="contact-details">
                            üìû ${contact.phone || 'N/A'}<br>
                            ‚úâÔ∏è ${contact.email || 'N/A'}
                        </div>
                        <div style="margin-bottom: 10px; color: #666; font-size: 0.9rem;">${contact.notes}</div>
                        <div style="margin-bottom: 10px;">
                            <span class="group-tag">${contact.group}</span>
                        </div>
                        <div class="contact-actions">
                            <button class="action-btn call-btn" onclick="makeCall('${contact.phone}')"><i class="fas fa-phone"></i></button>
                            <button class="action-btn sms-btn" onclick="sendSMS('${contact.phone}')"><i class="fas fa-sms"></i></button>
                            <button class="action-btn edit-btn" onclick="editContact(${contact.id})"><i class="fas fa-edit"></i></button>
                            <button class="action-btn delete-btn" onclick="deleteContact(${contact.id})"><i class="fas fa-trash"></i></button>
                            <i class="fas ${contact.favorite ? 'fas' : 'far'} fa-star favorite" onclick="toggleFavorite(${contact.id})"></i>
                        </div>
                    </div>
                `).join('');
        }

        function renderCallHistory() {
            const container = document.getElementById('callHistory');
            container.innerHTML = callHistory.slice(0, 10).map(call => {
                const icon = call.type === 'incoming' ? 'fa-arrow-down' : call.type === 'outgoing' ? 'fa-