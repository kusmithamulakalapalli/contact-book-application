<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Hub - Smart Contact Manager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --blue-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --shadow: 0 10px 30px rgba(0,0,0,0.2);
            --card-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: var(--primary-gradient); 
            min-height: 100vh; 
            overflow-x: hidden; 
        }
        
        /* Splash Screen */
        #splash { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: var(--primary-gradient); 
            display: flex; flex-direction: column; justify-content: center; align-items: center; 
            z-index: 1000; animation: fadeInZoom 1s ease-out; 
        }
        @keyframes fadeInZoom { 
            0% { opacity: 0; transform: scale(0.8); } 
            100% { opacity: 1; transform: scale(1); } 
        }
        .splash-icons { display: flex; gap: 30px; margin: 20px 0; }
        .splash-icons i { font-size: 3rem; color: white; animation: bounce 2s infinite; }
        @keyframes bounce { 
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 
            40% { transform: translateY(-10px); } 
            60% { transform: translateY(-5px); } 
        }
        .splash-title { 
            font-size: clamp(2.5rem, 8vw, 5rem); 
            background: var(--secondary-gradient); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            margin-bottom: 10px; 
        }
        .splash-subtitle { color: rgba(255,255,255,0.9); font-size: 1.5rem; }
        
        /* Main App */
        #app { display: none; min-height: 100vh; padding: 20px; }
        .header { 
            background: rgba(255,255,255,0.1); 
            backdrop-filter: blur(20px); 
            padding: 20px; 
            border-radius: 20px; 
            margin-bottom: 20px; 
            text-align: center; 
            color: white; 
            box-shadow: var(--shadow); 
        }
        .header h1 { 
            background: var(--secondary-gradient); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
        }
        .datetime { font-size: 1.1rem; opacity: 0.9; }
        
        /* Login */
        .login-section { 
            max-width: 400px; 
            margin: 0 auto; 
            background: white; 
            padding: 40px; 
            border-radius: 20px; 
            box-shadow: var(--shadow); 
        }
        .form-group { margin-bottom: 20px; }
        input { 
            width: 100%; 
            padding: 15px; 
            border: 2px solid #eee; 
            border-radius: 12px; 
            font-size: 1rem; 
            transition: all 0.3s; 
        }
        input:focus { 
            outline: none; 
            border-color: #667eea; 
            box-shadow: 0 0 0 3px rgba(102,126,234,0.1); 
        }
        .btn { 
            background: var(--primary-gradient); 
            color: white; 
            border: none; 
            padding: 15px 30px; 
            border-radius: 12px; 
            font-size: 1.1rem; 
            cursor: pointer; 
            transition: transform 0.3s; 
            width: 100%; 
            margin-top: 10px; 
        }
        .btn:hover { transform: translateY(-2px); box-shadow: var(--shadow); }
        .biometric { 
            display: flex; align-items: center; gap: 10px; 
            background: #f8f9ff; 
            padding: 10px; 
            border-radius: 10px; 
            cursor: pointer; 
            transition: 0.3s; 
        }
        .biometric:hover { background: #e8f0ff; }
        
        /* Dashboard */
        .section { 
            background: white; 
            border-radius: 20px; 
            padding: 25px; 
            margin-bottom: 20px; 
            box-shadow: var(--card-shadow); 
        }
        .tabs { display: flex; gap: 10px; margin-bottom: 20px; }
        .tab-btn { 
            flex: 1; 
            padding: 15px; 
            background: #f8f9ff; 
            border: none; 
            border-radius: 12px; 
            cursor: pointer; 
            transition: 0.3s; 
        }
        .tab-btn.active { background: var(--primary-gradient); color: white; }
        .search-bar { display: flex; gap: 10px; margin-bottom: 20px; }
        #searchInput, #voiceBtn { 
            flex: 1; 
            padding: 15px; 
            border: 2px solid #eee; 
            border-radius: 12px; 
        }
        #voiceBtn { 
            background: var(--blue-gradient); 
            color: white; 
            border: none; 
            cursor: pointer; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            gap: 10px; 
        }
        #voiceBtn.listening { 
            background: #ff6b6b; 
            animation: pulse 1s infinite; 
        }
        @keyframes pulse { 
            0% { transform: scale(1); } 
            50% { transform: scale(1.05); } 
            100% { transform: scale(1); } 
        }
        
        /* Contact Cards */
        .contacts-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); 
            gap: 20px; 
        }
        .contact-card { 
            background: #f8f9ff; 
            border-radius: 15px; 
            padding: 20px; 
            transition: transform 0.3s, box-shadow 0.3s; 
            border-left: 5px solid var(--primary-gradient); 
            position: relative;
        }
        .contact-card:hover { transform: translateY(-5px); box-shadow: var(--shadow); }
        .contact-img { 
            width: 60px; 
            height: 60px; 
            border-radius: 50%; 
            background: var(--primary-gradient); 
            color: white; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: 1.5rem; 
            margin-bottom: 10px; 
        }
        .contact-name { font-size: 1.3rem; font-weight: bold; margin-bottom: 5px; }
        .contact-details { color: #666; margin-bottom: 10px; font-size: 0.9rem; }
        .contact-actions { display: flex; gap: 8px; flex-wrap: wrap; }
        .action-btn { 
            padding: 8px 12px; 
            border: none; 
            border-radius: 8px; 
            cursor: pointer; 
            font-size: 0.9rem; 
            transition: 0.3s; 
            display: flex; 
            align-items: center; 
            gap: 5px;
        }
        .call-btn { background: #4ecdc4; color: white; }
        .sms-btn { background: #45b7d1; color: white; }
        .edit-btn { background: #f39c12; color: white; }
        .delete-btn { background: #e74c3c; color: white; }
        .favorite { 
            position: absolute; 
            top: 15px; 
            right: 15px; 
            color: #f1c40f; 
            font-size: 1.5rem; 
            cursor: pointer; 
        }
        .group-tag { 
            background: var(--primary-gradient); 
            color: white; 
            padding: 4px 12px; 
            border-radius: 15px; 
            font-size: 0.8rem; 
            display: inline-block;
        }
        
        /* Groups */
        .group-tabs { 
            display: flex; 
            flex-wrap: wrap; 
            gap: 10px; 
            margin-bottom: 20px; 
        }
        .group-tag-filter { 
            background: var(--primary-gradient); 
            color: white; 
            padding: 8px 15px; 
            border-radius: 20px; 
            cursor: pointer; 
            transition: 0.3s; 
            font-size: 0.9rem;
        }
        .group-tag-filter.active { transform: scale(1.05); box-shadow: var(--shadow); }
        
        /* Charts */
        #analytics { 
            height: 200px; 
            background: #f8f9ff; 
            border-radius: 10px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            color: #666; 
            flex-direction: column;
            gap: 10px;
        }
        
        /* Responsive */
        @media (max-width: 768px) { 
            .contacts-grid { grid-template-columns: 1fr; } 
            .tabs, .search-bar { flex-direction: column; } 
            .contact-actions { justify-content: center; }
        }
        .hidden { display: none !important; }
    </style>
</head>
<body>
    <!-- Splash Screen -->
    <div id="splash">
        <div class="splash-icons">
            <i class="fas fa-phone"></i>
            <i class="fas fa-comments"></i>
            <i class="fas fa-map-marker-alt"></i>
            <i class="fas fa-users"></i>
        </div>
        <h1 class="splash-title">CONTACT HUB</h1>
        <p class="splash-subtitle">Smart. Secure. Connected.</p>
    </div>

    <!-- Main App -->
    <div id="app">
        <div class="header">
            <h1><i class="fas fa-address-book"></i> Contact Hub</h1>
            <div class="datetime" id="datetime"></div>
        </div>

        <!-- Login Section -->
        <div id="loginSection" class="login-section">
            <h2 style="margin-bottom: 20px; color: #333;"><i class="fas fa-lock"></i> Secure Login</h2>
            <div class="form-group">
                <input type="text" id="loginInput" placeholder="Email or Mobile">
            </div>
            <div class="form-group">
                <input type="password" id="loginPassword" placeholder="Password">
            </div>
            <div class="biometric" onclick="toggleBiometric()">
                <i class="fas fa-fingerprint"></i> Enable Biometric Security
            </div>
            <button class="btn" onclick="login()">
                <i class="fas fa-sign-in-alt"></i> Login to Contact Hub
            </button>
            <p style="text-align: center; margin-top: 15px; color: #666; font-size: 0.9rem;">
                Demo: admin@contacthub.com / password123
            </p>
        </div>

        <!-- Dashboard -->
        <div id="dashboard" class="hidden">
            <!-- Search & Controls -->
            <div class="section">
                <div class="search-bar">
                    <input type="text" id="searchInput" placeholder="ðŸ” Search contacts by name, phone, email...">
                    <button id="voiceBtn" onclick="toggleVoiceSearch()">
                        <i class="fas fa-microphone"></i> Voice
                    </button>
                </div>

                <!-- Main Tabs -->
                <div class="tabs">
                    <button class="tab-btn active" data-tab="all">All Contacts</button>
                    <button class="tab-btn" data-tab="favorites">Favorites</button>
                    <button class="tab-btn" data-tab="recent">Recent</button>
                </div>

                <!-- Groups -->
                <div class="group-tabs" id="groupTabs">
                    <span class="group-tag-filter active" data-group="all">All</span>
                    <span class="group-tag-filter" data-group="family">Family</span>
                    <span class="group-tag-filter" data-group="friends">Friends</span>
                    <span class="group-tag-filter" data-group="work">Work</span>
                    <span class="group-tag-filter" data-group="class">Class</span>
                </div>

                <!-- Contacts Grid -->
                <div id="contactsList" class="contacts-grid"></div>
            </div>

            <!-- Add/Edit Contact Form -->
            <div class="section">
                <h3 style="margin-bottom: 20px;"><i class="fas fa-plus"></i> Add New Contact</h3>
                <div class="form-group">
                    <input type="text" id="contactName" placeholder="Full Name">
                </div>
                <div class="form-group">
                    <input type="tel" id="contactPhone" placeholder="Phone Number">
                </div>
                <div class="form-group">
                    <input type="email" id="contactEmail" placeholder="Email (optional)">
                </div>
                <div class="form-group">
                    <input type="text" id="contactNotes" placeholder="Notes">
                </div>
                <div class="form-group">
                    <input type="text" id="contactGroup" placeholder="Group: family, friends, work, class">
                </div>
                <button id="addBtn" class="btn" onclick="addContact()">
                    <i class="fas fa-save"></i> Add Contact
                </button>
            </div>

            <!-- Analytics -->
            <div class="section">
                <h3 style="margin-bottom: 15px;"><i class="fas fa-chart-bar"></i> Call Analytics</h3>
                <div id="analytics">
                    <div style="font-size: 1.5rem; font-weight: bold;">ðŸ“Š 12 calls this week</div>
                    <div>Total duration: <span id="totalDuration">0</span> mins</div>
                </div>
            </div>

            <!-- Call History -->
            <div class="section">
                <h3 style="margin-bottom: 15px;"><i class="fas fa-history"></i> Recent Calls</h3>
                <div id="callHistory" style="max-height: 200px; overflow-y: auto;"></div>
            </div>
        </div>
    </div>

    <script>
        // Global State
        let contacts = JSON.parse(localStorage.getItem('contacts')) || [];
        let callHistory = JSON.parse(localStorage.getItem('callHistory')) || [];
        let currentUser = null;
        let editingId = null;
        let recognition = null;
        let isListening = false;
        let currentTab = 'all';
        let currentGroup = 'all';

        // Initialize App
        function init() {
            updateDateTime();
            setInterval(updateDateTime, 1000);
            
            // Splash screen timeout
            setTimeout(() => {
                document.getElementById('splash').style.transition = 'opacity 0.5s';
                document.getElementById('splash').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('splash').style.display = 'none';
                    document.getElementById('app').style.display = 'block';
                }, 500);
            }, 4000);

            // Event Listeners
            document.getElementById('searchInput').addEventListener('input', searchContacts);
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', (e) => showTab(e.target.dataset.tab));
            });
            document.querySelectorAll('.group-tag-filter').forEach(tag => {
                tag.addEventListener('click', (e) => filterGroup(e.target.dataset.group));
            });
        }

        function updateDateTime() {
            const now = new Date();
            document.getElementById('datetime').textContent = 
                now.toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' });
        }

        // Secure Login
        function login() {
            const input = document.getElementById('loginInput').value.trim();
            const pass = document.getElementById('loginPassword').value;
            
            if ((input === 'admin@contacthub.com' || input === '+919876543210') && pass === 'password123') {
                currentUser = input;
                document.getElementById('loginSection').classList.add('hidden');
                document.getElementById('dashboard').classList.remove('hidden');
                renderContacts();
                renderCallHistory();
                updateAnalytics();
            } else {
                alert('âŒ Invalid credentials! Use: admin@contacthub.com / password123');
            }
        }

        function toggleBiometric() {
            alert('âœ… Biometric authentication demo - Fingerprint verified! (UI simulation)');
        }

        // Voice Search (Web Speech API)
        function toggleVoiceSearch() {
            if (!('webkitSpeechRecognition' in window && 'SpeechRecognition' in window)) {
                alert('âŒ Voice search requires Chrome browser');
                return;
            }

            const btn = document.getElementById('voiceBtn');
            
            if (!recognition) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.continuous = false;
                recognition.interimResults = false;
                recognition.lang = 'en-IN';
                
                recognition.onstart = () => {
                    isListening = true;
                    btn.classList.add('listening');
                    btn.innerHTML = '<i class="fas fa-stop"></i> Listening...';
                };
                
                recognition.onresult = (event) => {
                    const transcript = event.results[0][0].transcript;
                    document.getElementById('searchInput').value = transcript;
                    searchContacts();
                };
                
                recognition.onend = () => {
                    isListening = false;
                    btn.classList.remove('listening');
                    btn.innerHTML = '<i class="fas fa-microphone"></i> Voice';
                };
            }

            if (isListening) {
                recognition.stop();
            } else {
                recognition.start();
            }
        }

        // Contact Management (CRUD)
        function addContact() {
            const name = document.getElementById('contactName').value.trim();
            const phone = document.getElementById('contactPhone').value.trim();
            
            if (!name || !phone) {
                alert('Please enter name and phone number');
                return;
            }

            if (editingId) {
                // Update existing contact
                const contact = contacts.find(c => c.id === editingId);
                contact.name = name;
                contact.phone = phone;
                contact.email = document.getElementById('contactEmail').value;
                contact.notes = document.getElementById('contactNotes').value;
                contact.group = document.getElementById('contactGroup').value || 'all';
            } else {
                // Add new contact
                const contact = {
                    id: Date.now(),
                    name,
                    phone,
                    email: document.getElementById('contactEmail').value,
                    notes: document.getElementById('contactNotes').value,
                    group: document.getElementById('contactGroup').value || 'all',
                    favorite: false,
                    photo: 'ðŸ‘¤',
                    deleted: false
                };
                contacts.unshift(contact);
            }

            saveContacts();
            renderContacts();
            clearForm();
            alert(editingId ? 'âœ… Contact updated!' : 'âœ… Contact added!');
        }

        function editContact(id) {
            const contact = contacts.find(c => c.id === id);
            if (!contact) return;
            
            document.getElementById('contactName').value = contact.name;
            document.getElementById('contactPhone').value = contact.phone;
            document.getElementById('contactEmail').value = contact.email;
            document.getElementById('contactNotes').value = contact.notes;
            document.getElementById('contactGroup').value = contact.group;
            editingId = id;
        }